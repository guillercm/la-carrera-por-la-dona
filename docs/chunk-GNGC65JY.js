import{$ as se,A as Ho,Aa as te,Ab as Cn,Ba as gi,Bb as Ci,C as oe,Ca as Qo,D as rt,E as B,F as ue,G as pi,Gb as os,H as Bt,Ha as pe,I as at,Ia as ye,J as C,Ja as yn,K as xe,L as we,La as Yo,M as u,Ma as Xo,N as pn,Na as ve,O as fn,Oa as _i,P as lt,Pa as vn,Q as jo,Qa as bn,R as Lo,Ra as Gt,S as fi,Sa as Zo,T as $o,Ta as ut,U as he,Ua as ht,V as mi,W as X,X as Ke,Xa as es,Y as Uo,Ya as pt,Z as Wo,Za as yi,_a as wn,a as ui,b as ee,ba as k,c as Ao,ca as zo,d as xo,da as Vt,e as No,f as Ft,fb as ft,g as ko,ga as Je,h as Po,ha as mn,i as un,ia as gn,ib as ts,j as Io,ja as L,kb as vi,lb as fe,mb as Ce,n as K,nb as is,o as Fo,oa as ct,ob as bi,p as Y,pa as Ne,pb as mt,q as Bo,qa as $,qb as Dn,ra as De,s as qe,sa as _n,t as hn,ta as qo,tb as ns,u as hi,v as Vo,va as Ko,x as ne,xb as wi,y as Go,ya as dt,yb as Di,za as Jo}from"./chunk-GYMYWFR2.js";import{a as m,b as y,c as Kr}from"./chunk-QEZ3K4DX.js";var fs=(()=>{class i{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||i)(L(gn),L(se))};static \u0275dir=$({type:i})}return i})(),Jr=(()=>{class i extends fs{static \u0275fac=(()=>{let e;return function(o){return(e||(e=fi(i)))(o||i)}})();static \u0275dir=$({type:i,features:[De]})}return i})(),ms=new we("");var Qr={provide:ms,useExisting:at(()=>gs),multi:!0};function Yr(){let i=Dn()?Dn().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Xr=new we(""),gs=(()=>{class i extends fs{_compositionMode;_composing=!1;constructor(e,n,o){super(e,n),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!Yr())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||i)(L(gn),L(se),L(Xr,8))};static \u0275dir=$({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){n&1&&ve("input",function(r){return o._handleInput(r.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(r){return o._compositionEnd(r.target.value)})},standalone:!1,features:[ft([Qr]),De]})}return i})();function En(i){return i==null||An(i)===0}function An(i){return i==null?null:Array.isArray(i)||typeof i=="string"?i.length:i instanceof Set?i.size:null}var _s=new we(""),ys=new we(""),Zr=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ss=class{static min(t){return ea(t)}static max(t){return ta(t)}static required(t){return ia(t)}static requiredTrue(t){return na(t)}static email(t){return oa(t)}static minLength(t){return sa(t)}static maxLength(t){return ra(t)}static pattern(t){return aa(t)}static nullValidator(t){return vs()}static compose(t){return Os(t)}static composeAsync(t){return Ss(t)}};function ea(i){return t=>{if(t.value==null||i==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}function ta(i){return t=>{if(t.value==null||i==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}function ia(i){return En(i.value)?{required:!0}:null}function na(i){return i.value===!0?null:{required:!0}}function oa(i){return En(i.value)||Zr.test(i.value)?null:{email:!0}}function sa(i){return t=>{let e=t.value?.length??An(t.value);return e===null||e===0?null:e<i?{minlength:{requiredLength:i,actualLength:e}}:null}}function ra(i){return t=>{let e=t.value?.length??An(t.value);return e!==null&&e>i?{maxlength:{requiredLength:i,actualLength:e}}:null}}function aa(i){if(!i)return vs;let t,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(En(n.value))return null;let o=n.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}function vs(i){return null}function bs(i){return i!=null}function ws(i){return qo(i)?Po(i):i}function Ds(i){let t={};return i.forEach(e=>{t=e!=null?m(m({},t),e):t}),Object.keys(t).length===0?null:t}function Cs(i,t){return t.map(e=>e(i))}function la(i){return!i.validate}function Ts(i){return i.map(t=>la(t)?t:e=>t.validate(e))}function Os(i){if(!i)return null;let t=i.filter(bs);return t.length==0?null:function(e){return Ds(Cs(e,t))}}function Ms(i){return i!=null?Os(Ts(i)):null}function Ss(i){if(!i)return null;let t=i.filter(bs);return t.length==0?null:function(e){let n=Cs(e,t).map(ws);return Fo(n).pipe(K(Ds))}}function Rs(i){return i!=null?Ss(Ts(i)):null}function rs(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function Es(i){return i._rawValidators}function As(i){return i._rawAsyncValidators}function Tn(i){return i?Array.isArray(i)?i:[i]:[]}function Mi(i,t){return Array.isArray(i)?i.includes(t):i===t}function as(i,t){let e=Tn(t);return Tn(i).forEach(o=>{Mi(e,o)||e.push(o)}),e}function ls(i,t){return Tn(t).filter(e=>!Mi(i,e))}var Si=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ms(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Rs(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},yt=class extends Si{name;get formDirective(){return null}get path(){return null}},Ut=class extends Si{_parent=null;name=null;valueAccessor=null},Ri=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},ca={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Hc=y(m({},ca),{"[class.ng-submitted]":"isSubmitted"}),jc=(()=>{class i extends Ri{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(L(Ut,2))};static \u0275dir=$({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){n&2&&te("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[De]})}return i})(),Lc=(()=>{class i extends Ri{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(L(yt,10))};static \u0275dir=$({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){n&2&&te("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[De]})}return i})();var Ht="VALID",Ti="INVALID",gt="PENDING",jt="DISABLED",ke=class{},Ei=class extends ke{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Lt=class extends ke{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},$t=class extends ke{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},_t=class extends ke{status;source;constructor(t,e){super(),this.status=t,this.source=e}},On=class extends ke{source;constructor(t){super(),this.source=t}},Mn=class extends ke{source;constructor(t){super(),this.source=t}};function xn(i){return(ki(i)?i.validators:i)||null}function da(i){return Array.isArray(i)?Ms(i):i||null}function Nn(i,t){return(ki(t)?t.asyncValidators:i)||null}function ua(i){return Array.isArray(i)?Rs(i):i||null}function ki(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function xs(i,t,e){let n=i.controls;if(!(t?Object.keys(n):n).length)throw new Bt(1e3,"");if(!n[e])throw new Bt(1001,"")}function Ns(i,t,e){i._forEachChild((n,o)=>{if(e[o]===void 0)throw new Bt(1002,"")})}var vt=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return fe(this.statusReactive)}set status(t){fe(()=>this.statusReactive.set(t))}_status=Ce(()=>this.statusReactive());statusReactive=k(void 0);get valid(){return this.status===Ht}get invalid(){return this.status===Ti}get pending(){return this.status==gt}get disabled(){return this.status===jt}get enabled(){return this.status!==jt}errors;get pristine(){return fe(this.pristineReactive)}set pristine(t){fe(()=>this.pristineReactive.set(t))}_pristine=Ce(()=>this.pristineReactive());pristineReactive=k(!0);get dirty(){return!this.pristine}get touched(){return fe(this.touchedReactive)}set touched(t){fe(()=>this.touchedReactive.set(t))}_touched=Ce(()=>this.touchedReactive());touchedReactive=k(!1);get untouched(){return!this.touched}_events=new ee;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(as(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(as(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ls(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ls(t,this._rawAsyncValidators))}hasValidator(t){return Mi(this._rawValidators,t)}hasAsyncValidator(t){return Mi(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(y(m({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new $t(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new $t(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(y(m({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Lt(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new Lt(!0,n))}markAsPending(t={}){this.status=gt;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new _t(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(y(m({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=jt,this.errors=null,this._forEachChild(o=>{o.disable(y(m({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ei(this.value,n)),this._events.next(new _t(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(y(m({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ht,this._forEachChild(n=>{n.enable(y(m({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(y(m({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ht||this.status===gt)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ei(this.value,e)),this._events.next(new _t(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(y(m({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jt:Ht}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=gt,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=ws(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,o)=>n&&n._find(o),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new _t(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new X,this.statusChanges=new X}_calculateStatus(){return this._allControlsDisabled()?jt:this.errors?Ti:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gt)?gt:this._anyControlsHaveStatus(Ti)?Ti:Ht}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),o=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),o&&this._events.next(new Lt(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new $t(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ki(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=da(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=ua(this._rawAsyncValidators)}},Ai=class extends vt{constructor(t,e,n){super(xn(e),Nn(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Ns(this,!0,t),Object.keys(t).forEach(n=>{xs(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let o=this.controls[n];o&&o.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,o)=>{n.reset(t?t[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,o)=>((n.enabled||this.disabled)&&(e[o]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((o,s)=>{n=e(n,o,s)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Sn=class extends Ai{};var kn=new we("",{providedIn:"root",factory:()=>Pi}),Pi="always";function ha(i,t){return[...t.path,i]}function cs(i,t,e=Pi){Pn(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),fa(i,t),ga(i,t),ma(i,t),pa(i,t)}function ds(i,t,e=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Ni(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function xi(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function pa(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function Pn(i,t){let e=Es(i);t.validator!==null?i.setValidators(rs(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=As(i);t.asyncValidator!==null?i.setAsyncValidators(rs(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let o=()=>i.updateValueAndValidity();xi(t._rawValidators,o),xi(t._rawAsyncValidators,o)}function Ni(i,t){let e=!1;if(i!==null){if(t.validator!==null){let o=Es(i);if(Array.isArray(o)&&o.length>0){let s=o.filter(r=>r!==t.validator);s.length!==o.length&&(e=!0,i.setValidators(s))}}if(t.asyncValidator!==null){let o=As(i);if(Array.isArray(o)&&o.length>0){let s=o.filter(r=>r!==t.asyncValidator);s.length!==o.length&&(e=!0,i.setAsyncValidators(s))}}}let n=()=>{};return xi(t._rawValidators,n),xi(t._rawAsyncValidators,n),e}function fa(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&ks(i,t)})}function ma(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&ks(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function ks(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function ga(i,t){let e=(n,o)=>{t.valueAccessor.writeValue(n),o&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function _a(i,t){i==null,Pn(i,t)}function ya(i,t){return Ni(i,t)}function va(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function ba(i){return Object.getPrototypeOf(i.constructor)===Jr}function wa(i,t){i._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Da(i,t){if(!t)return null;Array.isArray(t);let e,n,o;return t.forEach(s=>{s.constructor===gs?e=s:ba(s)?n=s:o=s}),o||n||e||null}function Ca(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function us(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function hs(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Oi=class extends vt{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,n){super(xn(e),Nn(n,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ki(e)&&(e.nonNullable||e.initialValueIsDefault)&&(hs(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){us(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){us(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){hs(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Ta=i=>i instanceof Oi;var Uc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=$({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return i})();var Ps=new we("");var Oa={provide:yt,useExisting:at(()=>Ma)},Ma=(()=>{class i extends yt{callSetDisabledState;get submitted(){return fe(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Ce(()=>this._submittedReactive());_submittedReactive=k(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new X;constructor(e,n,o){super(),this.callSetDisabledState=o,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ni(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return cs(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){ds(e.control||null,e,!1),Ca(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this._submittedReactive.set(!0),wa(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new On(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new Mn(this.form))}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,o=this.form.get(e.path);n!==o&&(ds(n||null,e),Ta(o)&&(cs(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);_a(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&ya(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pn(this.form,this),this._oldForm&&Ni(this._oldForm,this)}static \u0275fac=function(n){return new(n||i)(L(_s,10),L(ys,10),L(kn,8))};static \u0275dir=$({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,o){n&1&&ve("submit",function(r){return o.onSubmit(r)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ft([Oa]),De,lt]})}return i})();var Sa={provide:Ut,useExisting:at(()=>Ra)},Ra=(()=>{class i extends Ut{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new X;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,n,o,s,r){super(),this._ngModelWarningConfig=r,this._parent=e,this._setValidators(n),this._setAsyncValidators(o),this.valueAccessor=Da(this,s)}ngOnChanges(e){this._added||this._setUpControl(),va(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return ha(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(n){return new(n||i)(L(yt,13),L(_s,10),L(ys,10),L(ms,10),L(Ps,8))};static \u0275dir=$({type:i,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[ft([Sa]),De,lt]})}return i})();var Is=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Ne({type:i});static \u0275inj=xe({})}return i})(),Rn=class extends vt{constructor(t,e,n){super(xn(e),Nn(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Ns(this,!1,t),t.forEach((n,o)=>{xs(this,!1,o),this.at(o).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((n,o)=>{this.at(o)&&this.at(o).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,o)=>{n.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,n)=>n._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function ps(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var Wc=(()=>{class i{useNonNullable=!1;get nonNullable(){let e=new i;return e.useNonNullable=!0,e}group(e,n=null){let o=this._reduceControls(e),s={};return ps(n)?s=n:n!==null&&(s.validators=n.validator,s.asyncValidators=n.asyncValidator),new Ai(o,s)}record(e,n=null){let o=this._reduceControls(e);return new Sn(o,n)}control(e,n,o){let s={};return this.useNonNullable?(ps(n)?s=n:(s.validators=n,s.asyncValidators=o),new Oi(e,y(m({},s),{nonNullable:!0}))):new Oi(e,n,o)}array(e,n,o){let s=e.map(r=>this._createControl(r));return new Rn(s,n,o)}_reduceControls(e){let n={};return Object.keys(e).forEach(o=>{n[o]=this._createControl(e[o])}),n}_createControl(e){if(e instanceof Oi)return e;if(e instanceof vt)return e;if(Array.isArray(e)){let n=e[0],o=e.length>1?e[1]:null,s=e.length>2?e[2]:null;return this.control(n,o,s)}else return this.control(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var zc=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:kn,useValue:e.callSetDisabledState??Pi}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Ne({type:i});static \u0275inj=xe({imports:[Is]})}return i})(),qc=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Ps,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:kn,useValue:e.callSetDisabledState??Pi}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Ne({type:i});static \u0275inj=xe({imports:[Is]})}return i})();var Ii={actionsWhileLoadingHttpRequest:["spinner"],actionsForAnHttpError:["modal"]};var Ea=new wi(()=>Ii);function In(i){return new Di().set(Ea,i)}var Fi=class i{_httpClient=u(Ci);get(t,e){let n=this.getContext(t,e);return t=this.setPathParams(t,e),this._httpClient.get(t,y(m({},e),{context:n,responseType:e?.responseType?e?.responseType:"json"})).pipe(oe(1))}post(t,e,n){let o=this.getContext(t,n);return t=this.setPathParams(t,n),this._httpClient.post(t,e,y(m({},n),{context:o,responseType:n?.responseType?n?.responseType:"json"})).pipe(oe(1))}delete(t,e){let n=this.getContext(t,e);return t=this.setPathParams(t,e),this._httpClient.delete(t,y(m({},e),{context:n,responseType:e?.responseType?e?.responseType:"json"})).pipe(oe(1))}put(t,e,n){let o=this.getContext(t,n);return t=this.setPathParams(t,n),this._httpClient.put(t,e,y(m({},n),{context:o,responseType:n?.responseType?n?.responseType:"json"})).pipe(oe(1))}patch(t,e,n){let o=this.getContext(t,n);return t=this.setPathParams(t,n),this._httpClient.patch(t,e,y(m({},n),{context:o,responseType:n?.responseType?n?.responseType:"json"})).pipe(oe(1))}getEndpoint(t,e,n){let o=e();return o?`${t}${o.endpoints[n]}`:""}setPathParams(t,e){let n=e?.pathParams;return n&&Object.keys(n).forEach(o=>{t=t.replace(`{${o}}`,n[o])}),t}getContext(t,e){return e?.context?In(m({id:t},e?.context)):In(y(m({},Ii),{id:t}))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})};var bt={production:!1,configPath:"static/config/config.json",simpsonsApiBaseUrl:"https://la-carrera-por-la-dona-backend.onrender.com/api",simpsonsSocketBaseUrl:"https://la-carrera-por-la-dona-backend.onrender.com",timeoutSeconds:3};var Bi=class i{_apiHandlerService=u(Fi);_config=k({apis:{},errors:{httpStatus:{},validations:{}},features:{}});config=this._config.asReadonly();isLoaded=k(!1);load(){return this._apiHandlerService.get(bt.configPath).pipe(ne(1),ue(t=>this._config.set(t)),ue(()=>this.isLoaded.set(!0)))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ie=class{static playerItemToApiPlayer(t){return{id:t.nickname,isLeader:t.isLeader,socket:t.socket}}static playerItemsToApiPlayersArray(t){return t.map(this.playerItemToApiPlayer)}static apiPlayerItemToPlayer(t){return{nickname:t.id,isLeader:t.isLeader,socket:t.socket}}static apiPlayerItemsToPlayersArray(t){return t.map(this.apiPlayerItemToPlayer)}static socketPlayerRoomToPlayer(t,e=!1){return{nickname:t.data.nickname,isLeader:e,socket:{id:t.socketId}}}};var Fe=class{static roomItemToApiRoom(t){return{id:t.name,gameStarted:t.gameStarted,players:Ie.playerItemsToApiPlayersArray(t.players)}}static roomItemsToApiRoomArray(t){return t.map(this.roomItemToApiRoom)}static apiRoomItemToRoom(t){return{name:t.id,gameStarted:t.gameStarted,players:Ie.apiPlayerItemsToPlayersArray(t.players)}}static apiRoomItemsToRoomArray(t){return t.map(this.apiRoomItemToRoom)}};function Aa(i){i||(fn(Aa),i=u(mi));let t=new ui(e=>i.onDestroy(e.next.bind(e)));return e=>e.pipe(B(t))}function xa(i,t){!t?.injector&&fn(xa);let e=t?.injector??u(he),n=new Ao(1),o=is(()=>{let s;try{s=i()}catch(r){fe(()=>n.error(r));return}fe(()=>n.next(s))},{injector:e,manualCleanup:!0});return e.get(mi).onDestroy(()=>{o.destroy(),n.complete()}),n.asObservable()}var x="top",U="bottom",V="right",P="left",Vi="auto",Be=[x,U,V,P],Te="start",Qe="end",Fs="clippingParents",Gi="viewport",wt="popper",Bs="reference",Fn=Be.reduce(function(i,t){return i.concat([t+"-"+Te,t+"-"+Qe])},[]),Hi=[].concat(Be,[Vi]).reduce(function(i,t){return i.concat([t,t+"-"+Te,t+"-"+Qe])},[]),Na="beforeRead",ka="read",Pa="afterRead",Ia="beforeMain",Fa="main",Ba="afterMain",Va="beforeWrite",Ga="write",Ha="afterWrite",Vs=[Na,ka,Pa,Ia,Fa,Ba,Va,Ga,Ha];function G(i){return i?(i.nodeName||"").toLowerCase():null}function S(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var t=i.ownerDocument;return t&&t.defaultView||window}return i}function re(i){var t=S(i).Element;return i instanceof t||i instanceof Element}function I(i){var t=S(i).HTMLElement;return i instanceof t||i instanceof HTMLElement}function Dt(i){if(typeof ShadowRoot>"u")return!1;var t=S(i).ShadowRoot;return i instanceof t||i instanceof ShadowRoot}function ja(i){var t=i.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},o=t.attributes[e]||{},s=t.elements[e];!I(s)||!G(s)||(Object.assign(s.style,n),Object.keys(o).forEach(function(r){var l=o[r];l===!1?s.removeAttribute(r):s.setAttribute(r,l===!0?"":l)}))})}function La(i){var t=i.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(n){var o=t.elements[n],s=t.attributes[n]||{},r=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:e[n]),l=r.reduce(function(a,d){return a[d]="",a},{});!I(o)||!G(o)||(Object.assign(o.style,l),Object.keys(s).forEach(function(a){o.removeAttribute(a)}))})}}var Gs={name:"applyStyles",enabled:!0,phase:"write",fn:ja,effect:La,requires:["computeStyles"]};function H(i){return i.split("-")[0]}var me=Math.max,Ye=Math.min,Oe=Math.round;function Ct(){var i=navigator.userAgentData;return i!=null&&i.brands&&Array.isArray(i.brands)?i.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Wt(){return!/^((?!chrome|android).)*safari/i.test(Ct())}function ae(i,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var n=i.getBoundingClientRect(),o=1,s=1;t&&I(i)&&(o=i.offsetWidth>0&&Oe(n.width)/i.offsetWidth||1,s=i.offsetHeight>0&&Oe(n.height)/i.offsetHeight||1);var r=re(i)?S(i):window,l=r.visualViewport,a=!Wt()&&e,d=(n.left+(a&&l?l.offsetLeft:0))/o,c=(n.top+(a&&l?l.offsetTop:0))/s,f=n.width/o,p=n.height/s;return{width:f,height:p,top:c,right:d+f,bottom:c+p,left:d,x:d,y:c}}function Xe(i){var t=ae(i),e=i.offsetWidth,n=i.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:i.offsetLeft,y:i.offsetTop,width:e,height:n}}function zt(i,t){var e=t.getRootNode&&t.getRootNode();if(i.contains(t))return!0;if(e&&Dt(e)){var n=t;do{if(n&&i.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function J(i){return S(i).getComputedStyle(i)}function Bn(i){return["table","td","th"].indexOf(G(i))>=0}function W(i){return((re(i)?i.ownerDocument:i.document)||window.document).documentElement}function Me(i){return G(i)==="html"?i:i.assignedSlot||i.parentNode||(Dt(i)?i.host:null)||W(i)}function Hs(i){return!I(i)||J(i).position==="fixed"?null:i.offsetParent}function $a(i){var t=/firefox/i.test(Ct()),e=/Trident/i.test(Ct());if(e&&I(i)){var n=J(i);if(n.position==="fixed")return null}var o=Me(i);for(Dt(o)&&(o=o.host);I(o)&&["html","body"].indexOf(G(o))<0;){var s=J(o);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return o;o=o.parentNode}return null}function ge(i){for(var t=S(i),e=Hs(i);e&&Bn(e)&&J(e).position==="static";)e=Hs(e);return e&&(G(e)==="html"||G(e)==="body"&&J(e).position==="static")?t:e||$a(i)||t}function Ze(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function et(i,t,e){return me(i,Ye(t,e))}function js(i,t,e){var n=et(i,t,e);return n>e?e:n}function qt(){return{top:0,right:0,bottom:0,left:0}}function Kt(i){return Object.assign({},qt(),i)}function Jt(i,t){return t.reduce(function(e,n){return e[n]=i,e},{})}var Ua=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,Kt(typeof t!="number"?t:Jt(t,Be))};function Wa(i){var t,e=i.state,n=i.name,o=i.options,s=e.elements.arrow,r=e.modifiersData.popperOffsets,l=H(e.placement),a=Ze(l),d=[P,V].indexOf(l)>=0,c=d?"height":"width";if(!(!s||!r)){var f=Ua(o.padding,e),p=Xe(s),h=a==="y"?x:P,M=a==="y"?U:V,b=e.rects.reference[c]+e.rects.reference[a]-r[a]-e.rects.popper[c],v=r[a]-e.rects.reference[a],O=ge(s),E=O?a==="y"?O.clientHeight||0:O.clientWidth||0:0,A=b/2-v/2,g=f[h],w=E-p[c]-f[M],D=E/2-p[c]/2+A,R=et(g,D,w),j=a;e.modifiersData[n]=(t={},t[j]=R,t.centerOffset=R-D,t)}}function za(i){var t=i.state,e=i.options,n=e.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||zt(t.elements.popper,o)&&(t.elements.arrow=o))}var Vn={name:"arrow",enabled:!0,phase:"main",fn:Wa,effect:za,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function le(i){return i.split("-")[1]}var qa={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ka(i,t){var e=i.x,n=i.y,o=t.devicePixelRatio||1;return{x:Oe(e*o)/o||0,y:Oe(n*o)/o||0}}function Ls(i){var t,e=i.popper,n=i.popperRect,o=i.placement,s=i.variation,r=i.offsets,l=i.position,a=i.gpuAcceleration,d=i.adaptive,c=i.roundOffsets,f=i.isFixed,p=r.x,h=p===void 0?0:p,M=r.y,b=M===void 0?0:M,v=typeof c=="function"?c({x:h,y:b}):{x:h,y:b};h=v.x,b=v.y;var O=r.hasOwnProperty("x"),E=r.hasOwnProperty("y"),A=P,g=x,w=window;if(d){var D=ge(e),R="clientHeight",j="clientWidth";if(D===S(e)&&(D=W(e),J(D).position!=="static"&&l==="absolute"&&(R="scrollHeight",j="scrollWidth")),D=D,o===x||(o===P||o===V)&&s===Qe){g=U;var F=f&&D===w&&w.visualViewport?w.visualViewport.height:D[R];b-=F-n.height,b*=a?1:-1}if(o===P||(o===x||o===U)&&s===Qe){A=V;var N=f&&D===w&&w.visualViewport?w.visualViewport.width:D[j];h-=N-n.width,h*=a?1:-1}}var z=Object.assign({position:l},d&&qa),ce=c===!0?Ka({x:h,y:b},S(e)):{x:h,y:b};if(h=ce.x,b=ce.y,a){var q;return Object.assign({},z,(q={},q[g]=E?"0":"",q[A]=O?"0":"",q.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+b+"px)":"translate3d("+h+"px, "+b+"px, 0)",q))}return Object.assign({},z,(t={},t[g]=E?b+"px":"",t[A]=O?h+"px":"",t.transform="",t))}function Ja(i){var t=i.state,e=i.options,n=e.gpuAcceleration,o=n===void 0?!0:n,s=e.adaptive,r=s===void 0?!0:s,l=e.roundOffsets,a=l===void 0?!0:l,d={placement:H(t.placement),variation:le(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Ls(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:r,roundOffsets:a})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ls(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var $s={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ja,data:{}};var ji={passive:!0};function Qa(i){var t=i.state,e=i.instance,n=i.options,o=n.scroll,s=o===void 0?!0:o,r=n.resize,l=r===void 0?!0:r,a=S(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&d.forEach(function(c){c.addEventListener("scroll",e.update,ji)}),l&&a.addEventListener("resize",e.update,ji),function(){s&&d.forEach(function(c){c.removeEventListener("scroll",e.update,ji)}),l&&a.removeEventListener("resize",e.update,ji)}}var Us={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Qa,data:{}};var Ya={left:"right",right:"left",bottom:"top",top:"bottom"};function Tt(i){return i.replace(/left|right|bottom|top/g,function(t){return Ya[t]})}var Xa={start:"end",end:"start"};function Li(i){return i.replace(/start|end/g,function(t){return Xa[t]})}function tt(i){var t=S(i),e=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:e,scrollTop:n}}function it(i){return ae(W(i)).left+tt(i).scrollLeft}function Gn(i,t){var e=S(i),n=W(i),o=e.visualViewport,s=n.clientWidth,r=n.clientHeight,l=0,a=0;if(o){s=o.width,r=o.height;var d=Wt();(d||!d&&t==="fixed")&&(l=o.offsetLeft,a=o.offsetTop)}return{width:s,height:r,x:l+it(i),y:a}}function Hn(i){var t,e=W(i),n=tt(i),o=(t=i.ownerDocument)==null?void 0:t.body,s=me(e.scrollWidth,e.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),r=me(e.scrollHeight,e.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-n.scrollLeft+it(i),a=-n.scrollTop;return J(o||e).direction==="rtl"&&(l+=me(e.clientWidth,o?o.clientWidth:0)-s),{width:s,height:r,x:l,y:a}}function nt(i){var t=J(i),e=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+o+n)}function $i(i){return["html","body","#document"].indexOf(G(i))>=0?i.ownerDocument.body:I(i)&&nt(i)?i:$i(Me(i))}function Ve(i,t){var e;t===void 0&&(t=[]);var n=$i(i),o=n===((e=i.ownerDocument)==null?void 0:e.body),s=S(n),r=o?[s].concat(s.visualViewport||[],nt(n)?n:[]):n,l=t.concat(r);return o?l:l.concat(Ve(Me(r)))}function Ot(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function Za(i,t){var e=ae(i,!1,t==="fixed");return e.top=e.top+i.clientTop,e.left=e.left+i.clientLeft,e.bottom=e.top+i.clientHeight,e.right=e.left+i.clientWidth,e.width=i.clientWidth,e.height=i.clientHeight,e.x=e.left,e.y=e.top,e}function Ws(i,t,e){return t===Gi?Ot(Gn(i,e)):re(t)?Za(t,e):Ot(Hn(W(i)))}function el(i){var t=Ve(Me(i)),e=["absolute","fixed"].indexOf(J(i).position)>=0,n=e&&I(i)?ge(i):i;return re(n)?t.filter(function(o){return re(o)&&zt(o,n)&&G(o)!=="body"}):[]}function jn(i,t,e,n){var o=t==="clippingParents"?el(i):[].concat(t),s=[].concat(o,[e]),r=s[0],l=s.reduce(function(a,d){var c=Ws(i,d,n);return a.top=me(c.top,a.top),a.right=Ye(c.right,a.right),a.bottom=Ye(c.bottom,a.bottom),a.left=me(c.left,a.left),a},Ws(i,r,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Qt(i){var t=i.reference,e=i.element,n=i.placement,o=n?H(n):null,s=n?le(n):null,r=t.x+t.width/2-e.width/2,l=t.y+t.height/2-e.height/2,a;switch(o){case x:a={x:r,y:t.y-e.height};break;case U:a={x:r,y:t.y+t.height};break;case V:a={x:t.x+t.width,y:l};break;case P:a={x:t.x-e.width,y:l};break;default:a={x:t.x,y:t.y}}var d=o?Ze(o):null;if(d!=null){var c=d==="y"?"height":"width";switch(s){case Te:a[d]=a[d]-(t[c]/2-e[c]/2);break;case Qe:a[d]=a[d]+(t[c]/2-e[c]/2);break;default:}}return a}function Ge(i,t){t===void 0&&(t={});var e=t,n=e.placement,o=n===void 0?i.placement:n,s=e.strategy,r=s===void 0?i.strategy:s,l=e.boundary,a=l===void 0?Fs:l,d=e.rootBoundary,c=d===void 0?Gi:d,f=e.elementContext,p=f===void 0?wt:f,h=e.altBoundary,M=h===void 0?!1:h,b=e.padding,v=b===void 0?0:b,O=Kt(typeof v!="number"?v:Jt(v,Be)),E=p===wt?Bs:wt,A=i.rects.popper,g=i.elements[M?E:p],w=jn(re(g)?g:g.contextElement||W(i.elements.popper),a,c,r),D=ae(i.elements.reference),R=Qt({reference:D,element:A,strategy:"absolute",placement:o}),j=Ot(Object.assign({},A,R)),F=p===wt?j:D,N={top:w.top-F.top+O.top,bottom:F.bottom-w.bottom+O.bottom,left:w.left-F.left+O.left,right:F.right-w.right+O.right},z=i.modifiersData.offset;if(p===wt&&z){var ce=z[o];Object.keys(N).forEach(function(q){var Le=[V,U].indexOf(q)>=0?1:-1,$e=[x,U].indexOf(q)>=0?"y":"x";N[q]+=ce[$e]*Le})}return N}function Ln(i,t){t===void 0&&(t={});var e=t,n=e.placement,o=e.boundary,s=e.rootBoundary,r=e.padding,l=e.flipVariations,a=e.allowedAutoPlacements,d=a===void 0?Hi:a,c=le(n),f=c?l?Fn:Fn.filter(function(M){return le(M)===c}):Be,p=f.filter(function(M){return d.indexOf(M)>=0});p.length===0&&(p=f);var h=p.reduce(function(M,b){return M[b]=Ge(i,{placement:b,boundary:o,rootBoundary:s,padding:r})[H(b)],M},{});return Object.keys(h).sort(function(M,b){return h[M]-h[b]})}function tl(i){if(H(i)===Vi)return[];var t=Tt(i);return[Li(i),t,Li(t)]}function il(i){var t=i.state,e=i.options,n=i.name;if(!t.modifiersData[n]._skip){for(var o=e.mainAxis,s=o===void 0?!0:o,r=e.altAxis,l=r===void 0?!0:r,a=e.fallbackPlacements,d=e.padding,c=e.boundary,f=e.rootBoundary,p=e.altBoundary,h=e.flipVariations,M=h===void 0?!0:h,b=e.allowedAutoPlacements,v=t.options.placement,O=H(v),E=O===v,A=a||(E||!M?[Tt(v)]:tl(v)),g=[v].concat(A).reduce(function(st,Ae){return st.concat(H(Ae)===Vi?Ln(t,{placement:Ae,boundary:c,rootBoundary:f,padding:d,flipVariations:M,allowedAutoPlacements:b}):Ae)},[]),w=t.rects.reference,D=t.rects.popper,R=new Map,j=!0,F=g[0],N=0;N<g.length;N++){var z=g[N],ce=H(z),q=le(z)===Te,Le=[x,U].indexOf(ce)>=0,$e=Le?"width":"height",Z=Ge(t,{placement:z,boundary:c,rootBoundary:f,altBoundary:p,padding:d}),de=Le?q?V:P:q?U:x;w[$e]>D[$e]&&(de=Tt(de));var ri=Tt(de),Ue=[];if(s&&Ue.push(Z[ce]<=0),l&&Ue.push(Z[de]<=0,Z[ri]<=0),Ue.every(function(st){return st})){F=z,j=!1;break}R.set(z,Ue)}if(j)for(var ai=M?3:1,an=function(Ae){var It=g.find(function(ci){var We=R.get(ci);if(We)return We.slice(0,Ae).every(function(ln){return ln})});if(It)return F=It,"break"},Pt=ai;Pt>0;Pt--){var li=an(Pt);if(li==="break")break}t.placement!==F&&(t.modifiersData[n]._skip=!0,t.placement=F,t.reset=!0)}}var $n={name:"flip",enabled:!0,phase:"main",fn:il,requiresIfExists:["offset"],data:{_skip:!1}};function nl(i,t,e){var n=H(i),o=[P,x].indexOf(n)>=0?-1:1,s=typeof e=="function"?e(Object.assign({},t,{placement:i})):e,r=s[0],l=s[1];return r=r||0,l=(l||0)*o,[P,V].indexOf(n)>=0?{x:l,y:r}:{x:r,y:l}}function ol(i){var t=i.state,e=i.options,n=i.name,o=e.offset,s=o===void 0?[0,0]:o,r=Hi.reduce(function(c,f){return c[f]=nl(f,t.rects,s),c},{}),l=r[t.placement],a=l.x,d=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=a,t.modifiersData.popperOffsets.y+=d),t.modifiersData[n]=r}var Un={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ol};function sl(i){var t=i.state,e=i.name;t.modifiersData[e]=Qt({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var zs={name:"popperOffsets",enabled:!0,phase:"read",fn:sl,data:{}};function Wn(i){return i==="x"?"y":"x"}function rl(i){var t=i.state,e=i.options,n=i.name,o=e.mainAxis,s=o===void 0?!0:o,r=e.altAxis,l=r===void 0?!1:r,a=e.boundary,d=e.rootBoundary,c=e.altBoundary,f=e.padding,p=e.tether,h=p===void 0?!0:p,M=e.tetherOffset,b=M===void 0?0:M,v=Ge(t,{boundary:a,rootBoundary:d,padding:f,altBoundary:c}),O=H(t.placement),E=le(t.placement),A=!E,g=Ze(O),w=Wn(g),D=t.modifiersData.popperOffsets,R=t.rects.reference,j=t.rects.popper,F=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,N=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),z=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,ce={x:0,y:0};if(D){if(s){var q,Le=g==="y"?x:P,$e=g==="y"?U:V,Z=g==="y"?"height":"width",de=D[g],ri=de+v[Le],Ue=de-v[$e],ai=h?-j[Z]/2:0,an=E===Te?R[Z]:j[Z],Pt=E===Te?-j[Z]:-R[Z],li=t.elements.arrow,st=h&&li?Xe(li):{width:0,height:0},Ae=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:qt(),It=Ae[Le],ci=Ae[$e],We=et(0,R[Z],st[Z]),ln=A?R[Z]/2-ai-We-It-N.mainAxis:an-We-It-N.mainAxis,Lr=A?-R[Z]/2+ai+We+ci+N.mainAxis:Pt+We+ci+N.mainAxis,cn=t.elements.arrow&&ge(t.elements.arrow),$r=cn?g==="y"?cn.clientTop||0:cn.clientLeft||0:0,wo=(q=z?.[g])!=null?q:0,Ur=de+ln-wo-$r,Wr=de+Lr-wo,Do=et(h?Ye(ri,Ur):ri,de,h?me(Ue,Wr):Ue);D[g]=Do,ce[g]=Do-de}if(l){var Co,zr=g==="x"?x:P,qr=g==="x"?U:V,ze=D[w],di=w==="y"?"height":"width",To=ze+v[zr],Oo=ze-v[qr],dn=[x,P].indexOf(O)!==-1,Mo=(Co=z?.[w])!=null?Co:0,So=dn?To:ze-R[di]-j[di]-Mo+N.altAxis,Ro=dn?ze+R[di]+j[di]-Mo-N.altAxis:Oo,Eo=h&&dn?js(So,ze,Ro):et(h?So:To,ze,h?Ro:Oo);D[w]=Eo,ce[w]=Eo-ze}t.modifiersData[n]=ce}}var zn={name:"preventOverflow",enabled:!0,phase:"main",fn:rl,requiresIfExists:["offset"]};function qn(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function Kn(i){return i===S(i)||!I(i)?tt(i):qn(i)}function al(i){var t=i.getBoundingClientRect(),e=Oe(t.width)/i.offsetWidth||1,n=Oe(t.height)/i.offsetHeight||1;return e!==1||n!==1}function Jn(i,t,e){e===void 0&&(e=!1);var n=I(t),o=I(t)&&al(t),s=W(t),r=ae(i,o,e),l={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(n||!n&&!e)&&((G(t)!=="body"||nt(s))&&(l=Kn(t)),I(t)?(a=ae(t,!0),a.x+=t.clientLeft,a.y+=t.clientTop):s&&(a.x=it(s))),{x:r.left+l.scrollLeft-a.x,y:r.top+l.scrollTop-a.y,width:r.width,height:r.height}}function ll(i){var t=new Map,e=new Set,n=[];i.forEach(function(s){t.set(s.name,s)});function o(s){e.add(s.name);var r=[].concat(s.requires||[],s.requiresIfExists||[]);r.forEach(function(l){if(!e.has(l)){var a=t.get(l);a&&o(a)}}),n.push(s)}return i.forEach(function(s){e.has(s.name)||o(s)}),n}function Qn(i){var t=ll(i);return Vs.reduce(function(e,n){return e.concat(t.filter(function(o){return o.phase===n}))},[])}function Yn(i){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(i())})})),t}}function Xn(i){var t=i.reduce(function(e,n){var o=e[n.name];return e[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,e},{});return Object.keys(t).map(function(e){return t[e]})}var qs={placement:"bottom",modifiers:[],strategy:"absolute"};function Ks(){for(var i=arguments.length,t=new Array(i),e=0;e<i;e++)t[e]=arguments[e];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Js(i){i===void 0&&(i={});var t=i,e=t.defaultModifiers,n=e===void 0?[]:e,o=t.defaultOptions,s=o===void 0?qs:o;return function(l,a,d){d===void 0&&(d=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},qs,s),modifiersData:{},elements:{reference:l,popper:a},attributes:{},styles:{}},f=[],p=!1,h={state:c,setOptions:function(O){var E=typeof O=="function"?O(c.options):O;b(),c.options=Object.assign({},s,c.options,E),c.scrollParents={reference:re(l)?Ve(l):l.contextElement?Ve(l.contextElement):[],popper:Ve(a)};var A=Qn(Xn([].concat(n,c.options.modifiers)));return c.orderedModifiers=A.filter(function(g){return g.enabled}),M(),h.update()},forceUpdate:function(){if(!p){var O=c.elements,E=O.reference,A=O.popper;if(Ks(E,A)){c.rects={reference:Jn(E,ge(A),c.options.strategy==="fixed"),popper:Xe(A)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(N){return c.modifiersData[N.name]=Object.assign({},N.data)});for(var g=0;g<c.orderedModifiers.length;g++){if(c.reset===!0){c.reset=!1,g=-1;continue}var w=c.orderedModifiers[g],D=w.fn,R=w.options,j=R===void 0?{}:R,F=w.name;typeof D=="function"&&(c=D({state:c,options:j,name:F,instance:h})||c)}}}},update:Yn(function(){return new Promise(function(v){h.forceUpdate(),v(c)})}),destroy:function(){b(),p=!0}};if(!Ks(l,a))return h;h.setOptions(d).then(function(v){!p&&d.onFirstUpdate&&d.onFirstUpdate(v)});function M(){c.orderedModifiers.forEach(function(v){var O=v.name,E=v.options,A=E===void 0?{}:E,g=v.effect;if(typeof g=="function"){var w=g({state:c,name:O,instance:h,options:A}),D=function(){};f.push(w||D)}})}function b(){f.forEach(function(v){return v()}),f=[]}return h}}var cl=[Us,zs,$s,Gs],Zn=Js({defaultModifiers:cl});var Zs=["*"];var dl=["dialog"];function ul(i,t){if(i&1&&(pe(0,"strong",3),pt(1),ye()),i&2){let e=_i();Je(),yi(e.header)}}function hl(i,t){}function pl(i,t){if(i&1){let e=Yo();pe(0,"div",1),_n(1,hl,0,0,"ng-template",4),pe(2,"button",5),ve("click",function(){jo(e);let o=_i();return Lo(o.hide())}),ye()()}if(i&2){let e=_i(),n=es(1);Je(),Jo("ngTemplateOutlet",e.contentHeaderTpl||n)}}var er={animation:!0,transitionTimerDelayMs:5},oo=(()=>{class i{constructor(){this.animation=er.animation}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function fl(i){let{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(i),n=parseFloat(t),o=parseFloat(e);return(n+o)*1e3}function tr(i){return typeof i=="string"}function eo(i){return i!=null}function ml(i){return i&&i.then}function gl(i,t){return!t||typeof i.closest>"u"?null:i.closest(t)}function zi(i){return(i||document.body).getBoundingClientRect()}function _l(i){return t=>new ui(e=>{let n=r=>i.run(()=>e.next(r)),o=r=>i.run(()=>e.error(r)),s=()=>i.run(()=>e.complete());return t.subscribe({next:n,error:o,complete:s})})}function ir(i=document){let t=i?.activeElement;return t?t.shadowRoot?ir(t.shadowRoot):t:null}var yl=()=>{},{transitionTimerDelayMs:vl}=er,Ui=new Map,be=(i,t,e,n)=>{let o=n.context||{},s=Ui.get(t);if(s)switch(n.runningTransition){case"continue":return No;case"stop":i.run(()=>s.transition$.complete()),o=Object.assign(s.context,o),Ui.delete(t)}let r=e(t,n.animation,o)||yl;if(!n.animation||window.getComputedStyle(t).transitionProperty==="none")return i.run(()=>r()),un(void 0).pipe(_l(i));let l=new ee,a=new ee,d=l.pipe(Ho(!0));Ui.set(t,{transition$:l,complete:()=>{a.next(),a.complete()},context:o});let c=fl(t);return i.runOutsideAngular(()=>{let f=Y(t,"transitionend").pipe(B(d),qe(({target:h})=>h===t)),p=Bo(c+vl).pipe(B(d));hn(p,f,a).pipe(B(d)).subscribe(()=>{Ui.delete(t),i.run(()=>{r(),l.next(),l.complete()})})}),l.asObservable()};function bl(i,t){if(typeof navigator>"u")return"0px";let{classList:e}=i,n=e.contains("show");n||e.add("show"),i.style[t]="";let o=i.getBoundingClientRect()[t]+"px";return n||e.remove("show"),o}var wl=(i,t,e)=>{let{direction:n,maxSize:o,dimension:s}=e,{classList:r}=i;function l(){r.add("collapse"),n==="show"?r.add("show"):r.remove("show")}if(!t){l();return}return o||(o=bl(i,s),e.maxSize=o,i.style[s]=n!=="show"?o:"0px",r.remove("collapse","collapsing","show"),zi(i),r.add("collapsing")),i.style[s]=n==="show"?o:"0px",()=>{l(),r.remove("collapsing"),i.style[s]=""}},Dl=(()=>{class i{constructor(){this._ngbConfig=u(oo),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),ym=(()=>{class i{constructor(){this._config=u(Dl),this._element=u(se),this._zone=u(Ke),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new X,this.horizontal=this._config.horizontal,this.shown=new X,this.hidden=new X}set collapsed(e){this._isCollapsed!==e&&(this._isCollapsed=e,this._afterInit&&this._runTransitionWithEvents(e,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(e=this._isCollapsed){this.collapsed=!e,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(e,n){return be(this._zone,this._element.nativeElement,wl,{animation:n,runningTransition:"stop",context:{direction:e?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(e,n){this._runTransition(e,n).subscribe(()=>{e?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=$({type:i,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(n,o){n&2&&te("collapse-horizontal",o.horizontal)},inputs:{animation:"animation",collapsed:[0,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"]})}}return i})();var vm=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ne({type:i})}static{this.\u0275inj=xe({})}}return i})();var Wi=(i,t)=>t?t.some(e=>e.contains(i)):!1,Qs=(i,t)=>!t||gl(i,t)!=null,Cl=(()=>{let i=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,t=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(i()||t()):!1})(),Tl=i=>Cl?()=>setTimeout(()=>i(),100):i;function Ol(i,t,e,n,o,s,r,l){e&&i.runOutsideAngular(Tl(()=>{let a=p=>{let h=p.target;return p.button===2||Wi(h,r)?!1:e==="inside"?Wi(h,s)&&Qs(h,l):e==="outside"?!Wi(h,s):Qs(h,l)||!Wi(h,s)},d=Y(t,"keydown").pipe(B(o),qe(p=>p.key==="Escape"),ue(p=>p.preventDefault())),c=Y(t,"mousedown").pipe(K(a),B(o)),f=Y(t,"mouseup").pipe(pi(c),qe(([p,h])=>h),Go(0),B(o));hn([d.pipe(K(p=>0)),f.pipe(K(p=>1))]).subscribe(p=>i.run(()=>n(p)))}))}var nr=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function or(i){let t=Array.from(i.querySelectorAll(nr)).filter(e=>e.tabIndex!==-1);return[t[0],t[t.length-1]]}var Ml=(i,t,e,n=!1)=>{i.runOutsideAngular(()=>{let o=Y(t,"focusin").pipe(B(e),K(s=>s.target));Y(t,"keydown").pipe(B(e),qe(s=>s.key==="Tab"),pi(o)).subscribe(([s,r])=>{let[l,a]=or(t);(r===l||r===t)&&s.shiftKey&&(a.focus(),s.preventDefault()),r===a&&!s.shiftKey&&(l.focus(),s.preventDefault())}),n&&Y(t,"click").pipe(B(e),pi(o),K(s=>s[1])).subscribe(s=>s.focus())})},Sl=(()=>{class i{constructor(){this._element=u(mt).documentElement}isRTL(){return(this._element.getAttribute("dir")||"").toLowerCase()==="rtl"}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Rl=/\s+/,El=/  +/gi,Al={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]};function xl(i,t){let[e,n]=Al[i];return t&&n||e}var Nl=/^left/,kl=/^right/,Pl=/^start/,Il=/^end/;function Fl(i,t){let[e,n]=t.split("-"),o=e.replace(Nl,"start").replace(kl,"end"),s=[o];if(n){let r=n;(e==="left"||e==="right")&&(r=r.replace(Pl,"top").replace(Il,"bottom")),s.push(`${o}-${r}`)}return i&&(s=s.map(r=>`${i}-${r}`)),s.join(" ")}function Ys({placement:i,baseClass:t},e){let n=Array.isArray(i)?i:i.split(Rl),o=["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"],s=n.findIndex(d=>d==="auto");s>=0&&o.forEach(function(d){n.find(c=>c.search("^"+d)!==-1)==null&&n.splice(s++,1,d)});let r=n.map(d=>xl(d,e.isRTL()));return{placement:r.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!t,phase:"write",fn({state:d}){let c=new RegExp(t+"(-[a-z]+)*","gi"),f=d.elements.popper,p=d.placement,h=f.className;h=h.replace(c,""),h+=` ${Fl(t,p)}`,h=h.trim().replace(El," "),f.className=h}},$n,zn,Vn,{enabled:!0,name:"flip",options:{fallbackPlacements:r}}]}}function Xs(i){return i}function Bl(){let i=u(Sl),t=null;return{createPopper(e){if(!t){let o=(e.updatePopperOptions||Xs)(Ys(e,i));t=Zn(e.hostElement,e.targetElement,o)}},update(){t&&t.update()},setOptions(e){if(t){let o=(e.updatePopperOptions||Xs)(Ys(e,i));t.setOptions(o)}},destroy(){t&&(t.destroy(),t=null)}}}function Vl(i){return t=>(t.modifiers.push(Un,{name:"offset",options:{offset:()=>i}}),t)}var bm=new Date(1882,10,12),wm=new Date(2174,10,25);var Dm=1e3*60*60*24;var so=1080,Gl=24*so,Hl=12*so+793,Cm=29*Gl+Hl,Tm=11*so+204;var jl=(()=>{class i{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=e=>e,this.container=null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Ll=(()=>{class i{constructor(){this._disabled=!1,this.nativeElement=u(se).nativeElement,this.tabindex=0}set disabled(e){this._disabled=e===""||e===!0}get disabled(){return this._disabled}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=$({type:i,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(n,o){n&2&&(Xo("tabIndex",o.disabled?-1:o.tabindex),te("disabled",o.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"}})}}return i})();var $l=(()=>{class i{constructor(){this.dropdown=u(sr),this.nativeElement=u(se).nativeElement}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=$({type:i,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(n,o,s){if(n&1&&Gt(s,Ll,4),n&2){let r;ut(r=ht())&&(o.menuItems=r)}},hostAttrs:[1,"dropdown-menu"],hostVars:2,hostBindings:function(n,o){n&1&&ve("keydown.ArrowUp",function(r){return o.dropdown.onKeyDown(r)})("keydown.ArrowDown",function(r){return o.dropdown.onKeyDown(r)})("keydown.Home",function(r){return o.dropdown.onKeyDown(r)})("keydown.End",function(r){return o.dropdown.onKeyDown(r)})("keydown.Enter",function(r){return o.dropdown.onKeyDown(r)})("keydown.Space",function(r){return o.dropdown.onKeyDown(r)})("keydown.Tab",function(r){return o.dropdown.onKeyDown(r)})("keydown.Shift.Tab",function(r){return o.dropdown.onKeyDown(r)}),n&2&&te("show",o.dropdown.isOpen())}})}}return i})(),to=(()=>{class i{constructor(){this.dropdown=u(sr),this.nativeElement=u(se).nativeElement}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=$({type:i,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(n,o){n&2&&(dt("aria-expanded",o.dropdown.isOpen()),te("show",o.dropdown.isOpen()))}})}}return i})(),Om=(()=>{class i extends to{static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=fi(i)))(o||i)}})()}static{this.\u0275dir=$({type:i,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(n,o){n&1&&ve("click",function(){return o.dropdown.toggle()})("keydown.ArrowUp",function(r){return o.dropdown.onKeyDown(r)})("keydown.ArrowDown",function(r){return o.dropdown.onKeyDown(r)})("keydown.Home",function(r){return o.dropdown.onKeyDown(r)})("keydown.End",function(r){return o.dropdown.onKeyDown(r)})("keydown.Tab",function(r){return o.dropdown.onKeyDown(r)})("keydown.Shift.Tab",function(r){return o.dropdown.onKeyDown(r)}),n&2&&(dt("aria-expanded",o.dropdown.isOpen()),te("show",o.dropdown.isOpen()))},features:[ft([{provide:to,useExisting:at(()=>i)}]),De]})}}return i})(),sr=(()=>{class i{constructor(){this._changeDetector=u(vi),this._config=u(jl),this._document=u(mt),this._injector=u(he),this._ngZone=u(Ke),this._nativeElement=u(se).nativeElement,this._destroyCloseHandlers$=new ee,this._bodyContainer=null,this._positioning=Bl(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new X}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){Vt({write:()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()}},{injector:this._injector})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement}),this._applyPlacementClasses()),e.dropdownClass){let{currentValue:n,previousValue:o}=e.dropdownClass;this._applyCustomDropdownClass(n,o)}e.autoClose&&this._open&&(this.autoClose=e.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),this.display==="dynamic"&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,updatePopperOptions:e=>this.popperOptions(Vl([0,2])(e))}),this._applyPlacementClasses(),this._afterRenderRef=zo({write:()=>{this._positionMenu()}},{injector:this._injector})})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),Ol(this._ngZone,this._document,this.autoClose,e=>{this.close(),e===0&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._afterRenderRef?.destroy(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(e){let{key:n}=e,o=this._getMenuElements(),s=-1,r=null,l=this._isEventFromToggle(e);if(!l&&o.length&&o.forEach((a,d)=>{a.contains(e.target)&&(r=a),a===ir(this._document)&&(s=d)}),n===" "||n==="Enter"){r&&(this.autoClose===!0||this.autoClose==="inside")&&Y(r,"click").pipe(ne(1)).subscribe(()=>this.close());return}if(n==="Tab"){if(e.target&&this.isOpen()&&this.autoClose)if(this._anchor.nativeElement===e.target){this.container==="body"&&!e.shiftKey?(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")):e.shiftKey&&this.close();return}else if(this.container==="body"){let a=this._menu.nativeElement.querySelectorAll(nr);e.shiftKey&&e.target===a[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===a[a.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Y(e.target,"focusout").pipe(ne(1)).subscribe(({relatedTarget:a})=>{this._nativeElement.contains(a)||this.close()});return}if(l||r){if(this.open(),o.length){switch(n){case"ArrowDown":s=Math.min(s+1,o.length-1);break;case"ArrowUp":if(this._isDropup()&&s===-1){s=o.length-1;break}s=Math.max(s-1,0);break;case"Home":s=0;break;case"End":s=o.length-1;break}o[s].focus()}e.preventDefault()}}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:e})=>!e).map(({nativeElement:e})=>e):[]}_positionMenu(){let e=this._menu;this.isOpen()&&e&&(this.display==="dynamic"?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),e==="body"){let n=this._menu.nativeElement,o=this._bodyContainer=this._bodyContainer||this._document.createElement("div");o.style.position="absolute",n.style.position="static",o.style.zIndex="1055",o.appendChild(n),this._document.body.appendChild(o)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,n){let o=this.container==="body"?this._bodyContainer:this._nativeElement;o&&(n&&o.classList.remove(n),e&&o.classList.add(e))}_applyPlacementClasses(e){if(this._menu){e||(e=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),this.display==="static"?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");let n=e.search("^top")!==-1?"dropup":"dropdown";this._nativeElement.classList.add(n),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(n))}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=$({type:i,selectors:[["","ngbDropdown",""]],contentQueries:function(n,o,s){if(n&1&&(Gt(s,$l,5),Gt(s,to,5)),n&2){let r;ut(r=ht())&&(o._menu=r.first),ut(r=ht())&&(o._anchor=r.first)}},hostVars:2,hostBindings:function(n,o){n&2&&te("show",o.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[0,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[lt]})}}return i})();var Mm=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ne({type:i})}static{this.\u0275inj=xe({})}}return i})(),Ul=(()=>{class i{constructor(){this._ngbConfig=u(oo),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0,this.role="dialog"}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Mt=class{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}};var Wl=(()=>{class i{constructor(){this._document=u(mt)}hide(){let e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),n=this._document.body,o=n.style,{overflow:s,paddingRight:r}=o;if(e>0){let l=parseFloat(window.getComputedStyle(n).paddingRight);o.paddingRight=`${l+e}px`}return o.overflow="hidden",()=>{e>0&&(o.paddingRight=r),o.overflow=s}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),zl=(()=>{class i{constructor(){this._nativeElement=u(se).nativeElement,this._zone=u(Ke),this._injector=u(he)}ngOnInit(){Vt({mixedReadWrite:()=>be(this._zone,this._nativeElement,(e,n)=>{n&&zi(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})},{injector:this._injector})}hide(){return be(this._zone,this._nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=ct({type:i,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(n,o){n&2&&(gi("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),te("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(n,o){},encapsulation:2})}}return i})(),St=class{update(t){}close(t){}dismiss(t){}},ql=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","role","scrollable","size","windowClass","modalDialogClass"],Kl=["animation","backdropClass"],io=class{_applyWindowOptions(t,e){ql.forEach(n=>{eo(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){Kl.forEach(n=>{eo(e[n])&&(t[n]=e[n])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(B(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(B(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,e,n,o){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=o,this._closed=new ee,this._dismissed=new ee,this._hidden=new ee,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,r)=>{this._resolve=s,this._reject=r}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let e=this._beforeDismiss();ml(e)?e.then(n=>{n!==!1&&this._dismiss(t)},()=>{}):e!==!1&&this._dismiss(t)}}_removeModalElements(){let t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():un(void 0);t.subscribe(()=>{let{nativeElement:n}=this._windowCmptRef.location;n.parentNode.removeChild(n),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),hi(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},no=function(i){return i[i.BACKDROP_CLICK=0]="BACKDROP_CLICK",i[i.ESC=1]="ESC",i}(no||{}),Jl=(()=>{class i{constructor(){this._document=u(mt),this._elRef=u(se),this._zone=u(Ke),this._injector=u(he),this._closed$=new ee,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.role="dialog",this.dismissEvent=new X,this.shown=new ee,this.hidden=new ee}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":tr(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,Vt({mixedReadWrite:()=>this._show()},{injector:this._injector})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:e}=this._elRef,n={animation:this.animation,runningTransition:"stop"},o=be(this._zone,e,()=>e.classList.remove("show"),n),s=be(this._zone,this._dialogEl.nativeElement,()=>{},n),r=hi(o,s);return r.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}_show(){let e={animation:this.animation,runningTransition:"continue"},n=be(this._zone,this._elRef.nativeElement,(s,r)=>{r&&zi(s),s.classList.add("show")},e),o=be(this._zone,this._dialogEl.nativeElement,()=>{},e);hi(n,o).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Y(e,"keydown").pipe(B(this._closed$),qe(o=>o.key==="Escape")).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(no.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let n=!1;Y(this._dialogEl.nativeElement,"mousedown").pipe(B(this._closed$),ue(()=>n=!1),rt(()=>Y(e,"mouseup").pipe(B(this._closed$),ne(1))),qe(({target:o})=>e===o)).subscribe(()=>{n=!0}),Y(e,"click").pipe(B(this._closed$)).subscribe(({target:o})=>{e===o&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!n&&this._zone.run(()=>this.dismiss(no.BACKDROP_CLICK))),n=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){let n=e.querySelector("[ngbAutofocus]"),o=or(e)[0];(n||o||e).focus()}}_restoreFocus(){let e=this._document.body,n=this._elWithFocus,o;n&&n.focus&&e.contains(n)?o=n:o=e,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&be(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=ct({type:i,selectors:[["ngb-modal-window"]],viewQuery:function(n,o){if(n&1&&Zo(dl,7),n&2){let s;ut(s=ht())&&(o._dialogEl=s.first)}},hostAttrs:["tabindex","-1"],hostVars:8,hostBindings:function(n,o){n&2&&(dt("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy)("role",o.role),gi("modal d-block"+(o.windowClass?" "+o.windowClass:"")),te("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",role:"role",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Zs,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(n,o){n&1&&(vn(),pe(0,"div",1,0)(2,"div",2),bn(3),ye()()),n&2&&gi("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return i})(),Ql=(()=>{class i{constructor(){this._applicationRef=u(Ko),this._injector=u(he),this._environmentInjector=u(pn),this._document=u(mt),this._scrollBar=u(Wl),this._activeWindowCmptHasChanged=new ee,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new X;let e=u(Ke);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let n=this._windowCmpts[this._windowCmpts.length-1];Ml(e,n.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(n.location.nativeElement)}})}_restoreScrollBar(){let e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,n,o){let s=o.container instanceof HTMLElement?o.container:eo(o.container)?this._document.querySelector(o.container):this._document.body;if(!s)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let r=new St;e=o.injector||e;let l=e.get(pn,null)||this._environmentInjector,a=this._getContentRef(e,l,n,r,o),d=o.backdrop!==!1?this._attachBackdrop(s):void 0,c=this._attachWindowComponent(s,a.nodes),f=new io(c,a,d,o.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(c),f.hidden.pipe(ne(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),r.close=p=>{f.close(p)},r.dismiss=p=>{f.dismiss(p)},r.update=p=>{f.update(p)},f.update(o),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),d&&d.instance&&d.changeDetectorRef.detectChanges(),c.changeDetectorRef.detectChanges(),f}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(n=>n.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let n=bi(zl,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(e,n){let o=bi(Jl,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:n});return this._applicationRef.attachView(o.hostView),e.appendChild(o.location.nativeElement),o}_getContentRef(e,n,o,s,r){return o?o instanceof mn?this._createFromTemplateRef(o,s):tr(o)?this._createFromString(o):this._createFromComponent(e,n,o,s,r):new Mt([])}_createFromTemplateRef(e,n){let o={$implicit:n,close(r){n.close(r)},dismiss(r){n.dismiss(r)}},s=e.createEmbeddedView(o);return this._applicationRef.attachView(s),new Mt([s.rootNodes],s)}_createFromString(e){let n=this._document.createTextNode(`${e}`);return new Mt([[n]])}_createFromComponent(e,n,o,s,r){let l=he.create({providers:[{provide:St,useValue:s}],parent:e}),a=bi(o,{environmentInjector:n,elementInjector:l}),d=a.location.nativeElement;return r.scrollable&&d.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new Mt([[d]],a.hostView,a)}_setAriaHidden(e){let n=e.parentElement;n&&e!==this._document.body&&(Array.from(n.children).forEach(o=>{o!==e&&o.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,n)=>{e?n.setAttribute("aria-hidden",e):n.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){let n=()=>{let o=this._modalRefs.indexOf(e);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(n,n)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{let n=this._windowCmpts.indexOf(e);n>-1&&(this._windowCmpts.splice(n,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),rr=(()=>{class i{constructor(){this._injector=u(he),this._modalStack=u(Ql),this._config=u(Ul)}open(e,n={}){let o=m(y(m({},this._config),{animation:this._config.animation}),n);return this._modalStack.open(this._injector,e,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Yl=(()=>{class i{constructor(){this._ngbConfig=u(oo),this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Xl=(i,t)=>{let{classList:e}=i;if(t)e.add("fade");else{e.add("show");return}return zi(i),e.add("show","showing"),()=>{e.remove("showing")}},Zl=({classList:i})=>(i.add("showing"),()=>{i.remove("show","showing")}),ec=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=$({type:i,selectors:[["","ngbToastHeader",""]]})}}return i})(),Sm=(()=>{class i{constructor(e){this.ariaLive=e,this._config=u(Yl),this._zone=u(Ke),this._injector=u(he),this._element=u(se),this.animation=this._config.animation,this.delay=this._config.delay,this.autohide=this._config.autohide,this.contentHeaderTpl=null,this.shown=new X,this.hidden=new X,this.ariaLive??=this._config.ariaLive}ngAfterContentInit(){Vt({mixedReadWrite:()=>{this._init(),this.show()}},{injector:this._injector})}ngOnChanges(e){"autohide"in e&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();let e=be(this._zone,this._element.nativeElement,Zl,{animation:this.animation,runningTransition:"stop"});return e.subscribe(()=>{this.hidden.emit()}),e}show(){let e=be(this._zone,this._element.nativeElement,Xl,{animation:this.animation,runningTransition:"continue"});return e.subscribe(()=>{this.shown.emit()}),e}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}static{this.\u0275fac=function(n){return new(n||i)($o("aria-live"))}}static{this.\u0275cmp=ct({type:i,selectors:[["ngb-toast"]],contentQueries:function(n,o,s){if(n&1&&Gt(s,ec,7,mn),n&2){let r;ut(r=ht())&&(o.contentHeaderTpl=r.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(n,o){n&2&&(dt("aria-live",o.ariaLive),te("fade",o.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],features:[lt],ngContentSelectors:Zs,decls:5,vars:1,consts:()=>{let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[1,"toast-header"],[1,"toast-body"],[1,"me-auto"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(n,o){n&1&&(vn(),_n(0,ul,2,1,"ng-template",null,0,ts)(2,pl,3,1,"div",1),pe(3,"div",2),bn(4),ye()),n&2&&(Je(2),Qo(o.contentHeaderTpl||o.header?2:-1))},dependencies:[ns],styles:[`ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}
`],encapsulation:2})}}return i})(),Rm=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=Ne({type:i})}static{this.\u0275inj=xe({})}}return i})();var Em=new we("live announcer delay",{providedIn:"root",factory:()=>100});var _e=Object.create(null);_e.open="0";_e.close="1";_e.ping="2";_e.pong="3";_e.message="4";_e.upgrade="5";_e.noop="6";var Yt=Object.create(null);Object.keys(_e).forEach(i=>{Yt[_e[i]]=i});var Xt={type:"error",data:"parser error"};var cr=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",dr=typeof ArrayBuffer=="function",ur=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,Zt=({type:i,data:t},e,n)=>cr&&t instanceof Blob?e?n(t):ar(t,n):dr&&(t instanceof ArrayBuffer||ur(t))?e?n(t):ar(new Blob([t]),n):n(_e[i]+(t||"")),ar=(i,t)=>{let e=new FileReader;return e.onload=function(){let n=e.result.split(",")[1];t("b"+(n||""))},e.readAsDataURL(i)};function lr(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}var ro;function hr(i,t){if(cr&&i.data instanceof Blob)return i.data.arrayBuffer().then(lr).then(t);if(dr&&(i.data instanceof ArrayBuffer||ur(i.data)))return t(lr(i.data));Zt(i,!1,e=>{ro||(ro=new TextEncoder),t(ro.encode(e))})}var pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ei=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<pr.length;i++)ei[pr.charCodeAt(i)]=i;var fr=i=>{let t=i.length*.75,e=i.length,n,o=0,s,r,l,a;i[i.length-1]==="="&&(t--,i[i.length-2]==="="&&t--);let d=new ArrayBuffer(t),c=new Uint8Array(d);for(n=0;n<e;n+=4)s=ei[i.charCodeAt(n)],r=ei[i.charCodeAt(n+1)],l=ei[i.charCodeAt(n+2)],a=ei[i.charCodeAt(n+3)],c[o++]=s<<2|r>>4,c[o++]=(r&15)<<4|l>>2,c[o++]=(l&3)<<6|a&63;return d};var tc=typeof ArrayBuffer=="function",ti=(i,t)=>{if(typeof i!="string")return{type:"message",data:mr(i,t)};let e=i.charAt(0);return e==="b"?{type:"message",data:ic(i.substring(1),t)}:Yt[e]?i.length>1?{type:Yt[e],data:i.substring(1)}:{type:Yt[e]}:Xt},ic=(i,t)=>{if(tc){let e=fr(i);return mr(e,t)}else return{base64:!0,data:i}},mr=(i,t)=>{switch(t){case"blob":return i instanceof Blob?i:new Blob([i]);case"arraybuffer":default:return i instanceof ArrayBuffer?i:i.buffer}};var gr="",_r=(i,t)=>{let e=i.length,n=new Array(e),o=0;i.forEach((s,r)=>{Zt(s,!1,l=>{n[r]=l,++o===e&&t(n.join(gr))})})},yr=(i,t)=>{let e=i.split(gr),n=[];for(let o=0;o<e.length;o++){let s=ti(e[o],t);if(n.push(s),s.type==="error")break}return n};function vr(){return new TransformStream({transform(i,t){hr(i,e=>{let n=e.length,o;if(n<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,n);else if(n<65536){o=new Uint8Array(3);let s=new DataView(o.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{o=new Uint8Array(9);let s=new DataView(o.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}i.data&&typeof i.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(e)})}})}var ao;function qi(i){return i.reduce((t,e)=>t+e.length,0)}function Ki(i,t){if(i[0].length===t)return i.shift();let e=new Uint8Array(t),n=0;for(let o=0;o<t;o++)e[o]=i[0][n++],n===i[0].length&&(i.shift(),n=0);return i.length&&n<i[0].length&&(i[0]=i[0].slice(n)),e}function br(i,t){ao||(ao=new TextDecoder);let e=[],n=0,o=-1,s=!1;return new TransformStream({transform(r,l){for(e.push(r);;){if(n===0){if(qi(e)<1)break;let a=Ki(e,1);s=(a[0]&128)===128,o=a[0]&127,o<126?n=3:o===126?n=1:n=2}else if(n===1){if(qi(e)<2)break;let a=Ki(e,2);o=new DataView(a.buffer,a.byteOffset,a.length).getUint16(0),n=3}else if(n===2){if(qi(e)<8)break;let a=Ki(e,8),d=new DataView(a.buffer,a.byteOffset,a.length),c=d.getUint32(0);if(c>Math.pow(2,21)-1){l.enqueue(Xt);break}o=c*Math.pow(2,32)+d.getUint32(4),n=3}else{if(qi(e)<o)break;let a=Ki(e,o);l.enqueue(ti(s?a:ao.decode(a),t)),n=0}if(o===0||o>i){l.enqueue(Xt);break}}}})}var lo=4;function T(i){if(i)return nc(i)}function nc(i){for(var t in T.prototype)i[t]=T.prototype[t];return i}T.prototype.on=T.prototype.addEventListener=function(i,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(t),this};T.prototype.once=function(i,t){function e(){this.off(i,e),t.apply(this,arguments)}return e.fn=t,this.on(i,e),this};T.prototype.off=T.prototype.removeListener=T.prototype.removeAllListeners=T.prototype.removeEventListener=function(i,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var e=this._callbacks["$"+i];if(!e)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var n,o=0;o<e.length;o++)if(n=e[o],n===t||n.fn===t){e.splice(o,1);break}return e.length===0&&delete this._callbacks["$"+i],this};T.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),e=this._callbacks["$"+i],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e){e=e.slice(0);for(var n=0,o=e.length;n<o;++n)e[n].apply(this,t)}return this};T.prototype.emitReserved=T.prototype.emit;T.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};T.prototype.hasListeners=function(i){return!!this.listeners(i).length};var Se=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,e)=>e(t,0),Q=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),wr="arraybuffer";function Ji(i,...t){return t.reduce((e,n)=>(i.hasOwnProperty(n)&&(e[n]=i[n]),e),{})}var oc=Q.setTimeout,sc=Q.clearTimeout;function Re(i,t){t.useNativeTimers?(i.setTimeoutFn=oc.bind(Q),i.clearTimeoutFn=sc.bind(Q)):(i.setTimeoutFn=Q.setTimeout.bind(Q),i.clearTimeoutFn=Q.clearTimeout.bind(Q))}var rc=1.33;function Dr(i){return typeof i=="string"?ac(i):Math.ceil((i.byteLength||i.size)*rc)}function ac(i){let t=0,e=0;for(let n=0,o=i.length;n<o;n++)t=i.charCodeAt(n),t<128?e+=1:t<2048?e+=2:t<55296||t>=57344?e+=3:(n++,e+=4);return e}function Qi(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Cr(i){let t="";for(let e in i)i.hasOwnProperty(e)&&(t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(i[e]));return t}function Tr(i){let t={},e=i.split("&");for(let n=0,o=e.length;n<o;n++){let s=e[n].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}var Yi=class extends Error{constructor(t,e,n){super(t),this.description=e,this.context=n,this.type="TransportError"}},Ee=class extends T{constructor(t){super(),this.writable=!1,Re(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,e,n){return super.emitReserved("error",new Yi(t,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){let e=ti(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){let t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){let e=Cr(t);return e.length?"?"+e:""}};var ii=class extends Ee{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";let e=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||e()})),this.writable||(n++,this.once("drain",function(){--n||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){let e=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};yr(t,this.socket.binaryType).forEach(e),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,_r(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let t=this.opts.secure?"https":"http",e=this.query||{};return this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=Qi()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(t,e)}};var Or=!1;try{Or=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var Mr=Or;function lc(){}var co=class extends ii{constructor(t){if(super(t),typeof location<"u"){let e=location.protocol==="https:",n=location.port;n||(n=e?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,e){let n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",(o,s)=>{this.onError("xhr post error",o,s)})}doPoll(){let t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(e,n)=>{this.onError("xhr poll error",e,n)}),this.pollXhr=t}},Xi=(()=>{class i extends T{constructor(e,n,o){super(),this.createRequest=e,Re(this,o),this._opts=o,this._method=o.method||"GET",this._uri=n,this._data=o.data!==void 0?o.data:null,this._create()}_create(){var e;let n=Ji(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;let o=this._xhr=this.createRequest(n);try{o.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&o.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{o.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(o),"withCredentials"in o&&(o.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(o.timeout=this._opts.requestTimeout),o.onreadystatechange=()=>{var s;o.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(o.getResponseHeader("set-cookie"))),o.readyState===4&&(o.status===200||o.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof o.status=="number"?o.status:0)},0))},o.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=i.requestsCount++,i.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=lc,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete i.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return i.requestsCount=0,i.requests={},i})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Sr);else if(typeof addEventListener=="function"){let i="onpagehide"in Q?"pagehide":"unload";addEventListener(i,Sr,!1)}}function Sr(){for(let i in Xi.requests)Xi.requests.hasOwnProperty(i)&&Xi.requests[i].abort()}var cc=function(){let i=Rr({xdomain:!1});return i&&i.responseType!==null}(),He=class extends co{constructor(t){super(t);let e=t&&t.forceBase64;this.supportsBinary=cc&&!e}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Xi(Rr,this.uri(),t)}};function Rr(i){let t=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Mr))return new XMLHttpRequest}catch{}if(!t)try{return new Q[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var Er=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",ho=class extends Ee{get name(){return"websocket"}doOpen(){let t=this.uri(),e=this.opts.protocols,n=Er?{}:Ji(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,n)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){let n=t[e],o=e===t.length-1;Zt(n,this.supportsBinary,s=>{try{this.doWrite(n,s)}catch{}o&&Se(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=Qi()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}},uo=Q.WebSocket||Q.MozWebSocket,je=class extends ho{createSocket(t,e,n){return Er?new uo(t,e,n):e?new uo(t,e):new uo(t)}doWrite(t,e){this.ws.send(e)}};var Rt=class extends Ee{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{let e=br(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(e).getReader(),o=vr();o.readable.pipeTo(t.writable),this._writer=o.writable.getWriter();let s=()=>{n.read().then(({done:l,value:a})=>{l||(this.onPacket(a),s())}).catch(l=>{})};s();let r={type:"open"};this.query.sid&&(r.data=`{"sid":"${this.query.sid}"}`),this._writer.write(r).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let e=0;e<t.length;e++){let n=t[e],o=e===t.length-1;this._writer.write(n).then(()=>{o&&Se(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}};var po={websocket:je,webtransport:Rt,polling:He};var dc=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,uc=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Et(i){if(i.length>8e3)throw"URI too long";let t=i,e=i.indexOf("["),n=i.indexOf("]");e!=-1&&n!=-1&&(i=i.substring(0,e)+i.substring(e,n).replace(/:/g,";")+i.substring(n,i.length));let o=dc.exec(i||""),s={},r=14;for(;r--;)s[uc[r]]=o[r]||"";return e!=-1&&n!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=hc(s,s.path),s.queryKey=pc(s,s.query),s}function hc(i,t){let e=/\/{2,9}/g,n=t.replace(e,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function pc(i,t){let e={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,o,s){o&&(e[o]=s)}),e}var fo=typeof addEventListener=="function"&&typeof removeEventListener=="function",Zi=[];fo&&addEventListener("offline",()=>{Zi.forEach(i=>i())},!1);var en=(()=>{class i extends T{constructor(e,n){if(super(),this.binaryType=wr,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){let o=Et(e);n.hostname=o.host,n.secure=o.protocol==="https"||o.protocol==="wss",n.port=o.port,o.query&&(n.query=o.query)}else n.host&&(n.hostname=Et(n.host).host);Re(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(o=>{let s=o.prototype.name;this.transports.push(s),this._transportsByName[s]=o}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Tr(this.opts.query)),fo&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Zi.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){let n=Object.assign({},this.opts.query);n.EIO=lo,n.transport=e,this.id&&(n.sid=this.id);let o=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](o)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let e=this.opts.rememberUpgrade&&i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",i.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let o=0;o<this.writeBuffer.length;o++){let s=this.writeBuffer[o].data;if(s&&(n+=Dr(s)),o>0&&n>this._maxPayload)return this.writeBuffer.slice(0,o);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Se(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,o){return this._sendPacket("message",e,n,o),this}send(e,n,o){return this._sendPacket("message",e,n,o),this}_sendPacket(e,n,o,s){if(typeof n=="function"&&(s=n,n=void 0),typeof o=="function"&&(s=o,o=null),this.readyState==="closing"||this.readyState==="closed")return;o=o||{},o.compress=o.compress!==!1;let r={type:e,data:n,options:o};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){let e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},o=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?o():e()}):this.upgrading?o():e()),this}_onError(e){if(i.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),fo&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let o=Zi.indexOf(this._offlineEventListener);o!==-1&&Zi.splice(o,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}return i.protocol=lo,i})(),tn=class extends en{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let e=this.createTransport(t),n=!1;en.priorWebsocketSuccess=!1;let o=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;en.priorWebsocketSuccess=e.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(c(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{let p=new Error("probe error");p.transport=e.name,this.emitReserved("upgradeError",p)}}))};function s(){n||(n=!0,c(),e.close(),e=null)}let r=f=>{let p=new Error("probe error: "+f);p.transport=e.name,s(),this.emitReserved("upgradeError",p)};function l(){r("transport closed")}function a(){r("socket closed")}function d(f){e&&f.name!==e.name&&s()}let c=()=>{e.removeListener("open",o),e.removeListener("error",r),e.removeListener("close",l),this.off("close",a),this.off("upgrading",d)};e.once("open",o),e.once("error",r),e.once("close",l),this.once("close",a),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||e.open()},200):e.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){let e=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}},At=class extends tn{constructor(t,e={}){let n=typeof t=="object"?t:e;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(o=>po[o]).filter(o=>!!o)),super(t,n)}};var Fg=At.protocol;function Ar(i,t="",e){let n=i;e=e||typeof location<"u"&&location,i==null&&(i=e.protocol+"//"+e.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=e.protocol+i:i=e.host+i),/^(https?|wss?):\/\//.test(i)||(typeof e<"u"?i=e.protocol+"//"+i:i="https://"+i),n=Et(i)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+t,n.href=n.protocol+"://"+s+(e&&e.port===n.port?"":":"+n.port),n}var bo={};Kr(bo,{Decoder:()=>yo,Encoder:()=>_o,PacketType:()=>_,protocol:()=>Ir});var mc=typeof ArrayBuffer=="function",gc=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,xr=Object.prototype.toString,_c=typeof Blob=="function"||typeof Blob<"u"&&xr.call(Blob)==="[object BlobConstructor]",yc=typeof File=="function"||typeof File<"u"&&xr.call(File)==="[object FileConstructor]";function oi(i){return mc&&(i instanceof ArrayBuffer||gc(i))||_c&&i instanceof Blob||yc&&i instanceof File}function ni(i,t){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let e=0,n=i.length;e<n;e++)if(ni(i[e]))return!0;return!1}if(oi(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return ni(i.toJSON(),!0);for(let e in i)if(Object.prototype.hasOwnProperty.call(i,e)&&ni(i[e]))return!0;return!1}function Nr(i){let t=[],e=i.data,n=i;return n.data=mo(e,t),n.attachments=t.length,{packet:n,buffers:t}}function mo(i,t){if(!i)return i;if(oi(i)){let e={_placeholder:!0,num:t.length};return t.push(i),e}else if(Array.isArray(i)){let e=new Array(i.length);for(let n=0;n<i.length;n++)e[n]=mo(i[n],t);return e}else if(typeof i=="object"&&!(i instanceof Date)){let e={};for(let n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=mo(i[n],t));return e}return i}function kr(i,t){return i.data=go(i.data,t),delete i.attachments,i}function go(i,t){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<t.length)return t[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let e=0;e<i.length;e++)i[e]=go(i[e],t);else if(typeof i=="object")for(let e in i)Object.prototype.hasOwnProperty.call(i,e)&&(i[e]=go(i[e],t));return i}var vc=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ir=5,_=function(i){return i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK",i}(_||{}),_o=class{constructor(t){this.replacer=t}encode(t){return(t.type===_.EVENT||t.type===_.ACK)&&ni(t)?this.encodeAsBinary({type:t.type===_.EVENT?_.BINARY_EVENT:_.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let e=""+t.type;return(t.type===_.BINARY_EVENT||t.type===_.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(e+=t.nsp+","),t.id!=null&&(e+=t.id),t.data!=null&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){let e=Nr(t),n=this.encodeAsString(e.packet),o=e.buffers;return o.unshift(n),o}};function Pr(i){return Object.prototype.toString.call(i)==="[object Object]"}var yo=class i extends T{constructor(t){super(),this.reviver=t}add(t){let e;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);let n=e.type===_.BINARY_EVENT;n||e.type===_.BINARY_ACK?(e.type=n?_.EVENT:_.ACK,this.reconstructor=new vo(e),e.attachments===0&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else if(oi(t)||t.base64)if(this.reconstructor)e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let e=0,n={type:Number(t.charAt(0))};if(_[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===_.BINARY_EVENT||n.type===_.BINARY_ACK){let s=e+1;for(;t.charAt(++e)!=="-"&&e!=t.length;);let r=t.substring(s,e);if(r!=Number(r)||t.charAt(e)!=="-")throw new Error("Illegal attachments");n.attachments=Number(r)}if(t.charAt(e+1)==="/"){let s=e+1;for(;++e&&!(t.charAt(e)===","||e===t.length););n.nsp=t.substring(s,e)}else n.nsp="/";let o=t.charAt(e+1);if(o!==""&&Number(o)==o){let s=e+1;for(;++e;){let r=t.charAt(e);if(r==null||Number(r)!=r){--e;break}if(e===t.length)break}n.id=Number(t.substring(s,e+1))}if(t.charAt(++e)){let s=this.tryParse(t.substr(e));if(i.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,e){switch(t){case _.CONNECT:return Pr(e);case _.DISCONNECT:return e===void 0;case _.CONNECT_ERROR:return typeof e=="string"||Pr(e);case _.EVENT:case _.BINARY_EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&vc.indexOf(e[0])===-1);case _.ACK:case _.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},vo=class{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){let e=kr(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function ie(i,t,e){return i.on(t,e),function(){i.off(t,e)}}var bc=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),xt=class extends T{constructor(t,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let t=this.io;this.subs=[ie(t,"open",this.onopen.bind(this)),ie(t,"packet",this.onpacket.bind(this)),ie(t,"error",this.onerror.bind(this)),ie(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var n,o,s;if(bc.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;let r={type:_.EVENT,data:e};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof e[e.length-1]=="function"){let c=this.ids++,f=e.pop();this._registerAckCallback(c,f),r.id=c}let l=(o=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||o===void 0?void 0:o.writable,a=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!l||(a?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,e){var n;let o=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(o===void 0){this.acks[t]=e;return}let s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);e.call(this,new Error("operation has timed out"))},o),r=(...l)=>{this.io.clearTimeoutFn(s),e.apply(this,l)};r.withError=!0,this.acks[t]=r}emitWithAck(t,...e){return new Promise((n,o)=>{let s=(r,l)=>r?o(r):n(l);s.withError=!0,e.push(s),this.emit(t,...e)})}_addToQueue(t){let e;typeof t[t.length-1]=="function"&&(e=t.pop());let n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...s)=>n!==this._queue[0]?void 0:(o!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(o)):(this._queue.shift(),e&&e(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;let e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:_.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){let n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case _.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case _.EVENT:case _.BINARY_EVENT:this.onevent(t);break;case _.ACK:case _.BINARY_ACK:this.onack(t);break;case _.DISCONNECT:this.ondisconnect();break;case _.CONNECT_ERROR:this.destroy();let n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){let e=t.data||[];t.id!=null&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){let e=this._anyListeners.slice();for(let n of e)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){let e=this,n=!1;return function(...o){n||(n=!0,e.packet({type:_.ACK,id:t,data:o}))}}onack(t){let e=this.acks[t.id];typeof e=="function"&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:_.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){let e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){let e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let e=this._anyOutgoingListeners.slice();for(let n of e)n.apply(this,t.data)}}};function ot(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}ot.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),e=Math.floor(t*this.jitter*i);i=(Math.floor(t*10)&1)==0?i-e:i+e}return Math.min(i,this.max)|0};ot.prototype.reset=function(){this.attempts=0};ot.prototype.setMin=function(i){this.ms=i};ot.prototype.setMax=function(i){this.max=i};ot.prototype.setJitter=function(i){this.jitter=i};var Nt=class extends T{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.opts=e,Re(this,e),this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor((n=e.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new ot({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(e.timeout==null?2e4:e.timeout),this._readyState="closed",this.uri=t;let o=e.parser||bo;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=e.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(e=this.backoff)===null||e===void 0||e.setMin(t),this)}randomizationFactor(t){var e;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(e=this.backoff)===null||e===void 0||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(e=this.backoff)===null||e===void 0||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new At(this.uri,this.opts);let e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;let o=ie(e,"open",function(){n.onopen(),t&&t()}),s=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},r=ie(e,"error",s);if(this._timeout!==!1){let l=this._timeout,a=this.setTimeoutFn(()=>{o(),s(new Error("timeout")),e.close()},l);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}return this.subs.push(o),this.subs.push(r),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let t=this.engine;this.subs.push(ie(t,"ping",this.onping.bind(this)),ie(t,"data",this.ondata.bind(this)),ie(t,"error",this.onerror.bind(this)),ie(t,"close",this.onclose.bind(this)),ie(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}ondecoded(t){Se(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new xt(this,t,e),this.nsps[t]=n),n}_destroy(t){let e=Object.keys(this.nsps);for(let n of e)if(this.nsps[n].active)return;this._close()}_packet(t){let e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let e=this.backoff.duration();this._reconnecting=!0;let n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){let t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}};var si={};function kt(i,t){typeof i=="object"&&(t=i,i=void 0),t=t||{};let e=Ar(i,t.path||"/socket.io"),n=e.source,o=e.id,s=e.path,r=si[o]&&s in si[o].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||r,a;return l?a=new Nt(n,t):(si[o]||(si[o]=new Nt(n,t)),a=si[o]),e.query&&!t.query&&(t.query=e.queryKey),a.socket(e.path,t)}Object.assign(kt,{Manager:Nt,Socket:xt,io:kt,connect:kt});var Br={actionsWhileLoadingHttpRequest:["spinner"],actionsForAnHttpError:["modal"]},wc=new wi(()=>Br);function Fr(i){return new Di().set(wc,i)}var Vr=(()=>{class i{_httpClient=u(Ci);get(e,n){let o=this.getContext(e,n);return e=this.setPathParams(e,n),this._httpClient.get(e,y(m({},n),{context:o,responseType:n?.responseType?n?.responseType:"json"})).pipe(oe(1))}post(e,n,o){let s=this.getContext(e,o);return e=this.setPathParams(e,o),this._httpClient.post(e,n,y(m({},o),{context:s,responseType:o?.responseType?o?.responseType:"json"})).pipe(oe(1))}delete(e,n){let o=this.getContext(e,n);return e=this.setPathParams(e,n),this._httpClient.delete(e,y(m({},n),{context:o,responseType:n?.responseType?n?.responseType:"json"})).pipe(oe(1))}put(e,n,o){let s=this.getContext(e,o);return e=this.setPathParams(e,o),this._httpClient.put(e,n,y(m({},o),{context:s,responseType:o?.responseType?o?.responseType:"json"})).pipe(oe(1))}patch(e,n,o){let s=this.getContext(e,o);return e=this.setPathParams(e,o),this._httpClient.patch(e,n,y(m({},o),{context:s,responseType:o?.responseType?o?.responseType:"json"})).pipe(oe(1))}getEndpoint(e,n,o){let s=n();return s?`${e}${s.endpoints[o]}`:""}setPathParams(e,n){let o=n?.pathParams;return o&&Object.keys(o).forEach(s=>{e=e.replace(`{${s}}`,o[s])}),e}getContext(e,n){return n?.context?Fr(m({id:e},n?.context)):Fr(y(m({},Br),{id:e}))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Dc=(()=>{class i{constructor(){}parse(e,n=null,o){try{let s=JSON.parse(e,o);if(n===null||typeof n==typeof s)return s}catch{}return n}stringify(e,n,o){try{return JSON.stringify(e,n,o)}catch{}return null}static \u0275fac=function(n){return new(n||i)};static \u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Gr=(()=>{class i{_modalService=u(rr);open(e){let{component:n,destroyRef:o,args:s,options:r}=e,l=document.activeElement;l&&l.blur();let a=this._modalService.open(n,r);return s&&Object.keys(s).forEach(d=>{let c=a.componentInstance[d];if(typeof c=="function")c.set(s[d]);else if(o&&typeof c=="object"&&c instanceof Uo){let f=c.subscribe(s[d]);o.onDestroy(()=>f.unsubscribe())}}),a}static \u0275fac=function(n){return new(n||i)};static \u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function nn(){return function(i,t,e){let n=!1;if(typeof localStorage!==void 0)try{localStorage.setItem("testLocalStorageAvailable","1"),localStorage.getItem("testLocalStorageAvailable")==="1"&&(n=!0),localStorage.removeItem("testLocalStorageAvailable")}catch{}return n||(t==="getItem"?e.value=(o,s=null)=>s:e.value=()=>{}),e}}var E_=(()=>{class i{_jsonHandler=u(Dc);setItem(e,n){console.log(localStorage),typeof n=="object"&&(n=this._jsonHandler.stringify(n)),localStorage.setItem(e,n.toString())}getItem(e,n=null){let o=localStorage.getItem(e);if(o===null)return n;if(!n)return o;switch(typeof n){case"number":return Number(o);case"bigint":return BigInt(o);case"boolean":return o==="true";case"object":let s=this._jsonHandler.parse(o,n);return typeof s=="object"?s:n}return o}removeItem(e){localStorage.removeItem(e)}clear(){localStorage.clear()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})}return Ft([nn()],i.prototype,"setItem",null),Ft([nn()],i.prototype,"getItem",null),Ft([nn()],i.prototype,"removeItem",null),Ft([nn()],i.prototype,"clear",null),i})();var Hr={actionsForAnHttpError:{modal:{excludeStatusCodes:[Cn.NotFound]}}},on=class i{_apiHandlerService=u(Vr);_configService=u(Bi);_configApi=k(null);constructor(){this.initialize()}initialize(){this._configApi.set(this._configService.config().apis.simpsons)}getEndpoint(t){return this._apiHandlerService.getEndpoint(bt.simpsonsApiBaseUrl,this._configApi,t)}createRoom(t){return this.deleteRoomByName(t.name,!0).pipe(rt(()=>this.postRoom(t)),Vo(e=>e.status===Cn.NotFound?this.postRoom(t):Io(()=>e)))}joinRoom(t,e){return this.getRoomByName(t).pipe(rt(n=>(n.players?.push(e),this.putRoom(n))))}postRoom(t){let e=this.getEndpoint("postRoom"),n=Fe.roomItemToApiRoom(t);return this._apiHandlerService.post(e,n).pipe(K(o=>Fe.apiRoomItemToRoom(o)))}putRoom(t){let e=this.getEndpoint("putRoom"),n=Fe.roomItemToApiRoom(t);return this._apiHandlerService.put(e,n,{pathParams:{name:t.name}}).pipe(K(o=>Fe.apiRoomItemToRoom(o)))}getRoomByName(t,e=!1){let n=this.getEndpoint("getRoomByName");return this._apiHandlerService.get(n,{pathParams:{name:t},context:e?Hr:void 0}).pipe(K(o=>Fe.apiRoomItemToRoom(o)))}deleteRoomByName(t,e=!1){let n=this.getEndpoint("deleteRoom");return this._apiHandlerService.delete(n,{pathParams:{name:t},context:e?Hr:void 0}).pipe(K(o=>o))}updateGameStarted(t,e){return this.getRoomByName(t).pipe(rt(n=>n?(n.gameStarted=e,this.putRoom(n)):ko([n],xo)))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})};var sn=class i{socket;_counter=k(0);counter=this._counter.asReadonly();constructor(){this.socket=kt(bt.simpsonsSocketBaseUrl)}events(t,e=[]){Object.entries(t).forEach(([n,o])=>{this.socket.on(n,s=>{s.isMine&&!e.includes(n)&&this._counter.update(r=>r-1),o(s)})})}subscribedEvents=new Set;_lastEvents=[];specificEvents(t,e,n=[]){Object.entries(e).forEach(([o,s])=>{let r=this._lastEvents.findIndex(a=>a.eventName===o),l={eventName:o,listener:s,counterKeysExcludes:n};r===-1?this._lastEvents.push(l):this._lastEvents[r]=l}),this.subscribedEvents.has(t)&&this.socket.off(t),this.subscribedEvents.add(t),this.socket.on(t,o=>{this._lastEvents.forEach(({eventName:s,listener:r,counterKeysExcludes:l})=>{s===o.event&&(o.isMine&&!l.includes(s)&&this._counter.update(a=>a-1),r(o))})})}emit(t,e=null){this._counter.update(n=>n+1),e?this.socket.emit(t,e):this.socket.emit(t)}static \u0275fac=function(e){return new(e||i)};static \u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})};var rn=class i{_activeModal=u(St);data=k(null);clicked=Wo();close(){this.clicked.emit("closed"),this._activeModal.close("Close click")}dismiss(){this._activeModal.dismiss("Cross click")}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=ct({type:i,selectors:[["core-error-modal"]],outputs:{clicked:"clicked"},decls:11,vars:2,consts:[[1,"modal-header","bg-danger","text-white"],[1,"modal-title"],[1,"bi","bi-x-circle-fill"],["type","button","aria-label","Close",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body","text-center"],[1,"mt-3","fw-bold","fs-4","text-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,n){if(e&1&&(pe(0,"div",0)(1,"h4",1),yn(2,"i",2),pt(3),ye(),pe(4,"button",3),ve("click",function(){return n.dismiss()}),ye()(),pe(5,"div",4)(6,"p",5),pt(7),ye()(),pe(8,"div",6)(9,"button",7),ve("click",function(){return n.close()}),pt(10,"Close"),ye()()),e&2){let o,s;Je(3),wn("",(o=n.data())==null?null:o.title," "),Je(4),yi((s=n.data())==null?null:s.message)}},encapsulation:2})};var jr=class i{minPlayersToStart=4;maxPlayersPerRoom=8;_socketService=u(sn);_apiRoomService=u(on);_router=u(os);_modalService=u(Gr);_nickname=k(null);nickname=this._nickname.asReadonly();_socketId=k("");socketId=this._socketId.asReadonly();_room=k(null);room=this._room.asReadonly();gameStarted=Ce(()=>this.room()?.gameStarted||!1);iAmLeader=Ce(()=>this.room()?.players.some(e=>e.nickname===this.nickname()&&e.isLeader)??!1);setNickname(t){this._nickname.set(t)}constructor(){this.initialize()}initialize(){this._socketService.events({connected:t=>{this._socketId.set(t.socketId)},"created-room":t=>{this.createRoom(t)},"joined-room":t=>{this.joinRoom(t)},"player-leave":t=>{this.leaveRoom(t)},"player-kicked":t=>{this.kickPlayer(t)},"failed-create-room":t=>{let e=t.data.error;this.openErrorModal("create-room",e)},"failed-join-room":t=>{let e=t.data.error;this.openErrorModal("join-room",e)},"game-started":t=>{this.gameStartedEvent(!0)},"game-finished":t=>{this.gameStartedEvent(!1)},disconnected:t=>{this.leaveRoom(t)}},["connected"])}canJoinRoom(t){return this._apiRoomService.getRoomByName(t,!0).pipe(K(e=>{let n=null,o=e.players.some(s=>s.nickname===this.nickname());return e.players.length>=this.maxPlayersPerRoom?n="La sala esta llena":o?n="Ya hay un jugador en esta sala con tu mismo nombre.":e.gameStarted&&(n="\xA1Ay caramba! Ya est\xE1n jugando. Qu\xE9date cerca, podr\xE1s entrar en la pr\xF3xima."),n}))}createRoom(t){let e=Ie.socketPlayerRoomToPlayer(t,!0);this._apiRoomService.createRoom({name:t.data.room,gameStarted:!1,players:[e]}).pipe(ne(1),ue(n=>{this._room.set(n),this._router.navigate(["./"])})).subscribe()}joinRoom(t){let e=Ie.socketPlayerRoomToPlayer(t);t.isMine?this._apiRoomService.joinRoom(t.data.room,e).pipe(ne(1),ue(n=>{this._room.set(n),this._router.navigate(["./"])})).subscribe():this._room.update(n=>n&&y(m({},n),{players:[...n.players,e]}))}kickPlayer(t){if(t.data.kickedSocketId===null)this._room.set(null),this._router.navigate(["/"]);else if(this._room.update(e=>{if(!e)return null;let n=e.players.filter(o=>o.socket.id===t.socketId);return y(m({},e),{players:[...n]})}),this.iAmLeader()){let e=this.room();if(!e)return;this._apiRoomService.createRoom(e).pipe(ne(1),ue(n=>{this._room.set(n)})).subscribe()}}leaveRoom(t){let e=t.socketId;if(e===this.socketId())this._room.set(null),this._router.navigate(["/"]);else{this._room.update(s=>{if(!s)return null;let r=s.players.filter(a=>a.socket.id!==e);return!r.some(a=>a.isLeader)&&r.length>0&&(r[0]=y(m({},r[0]),{isLeader:!0})),y(m({},s),{players:[...r]})});let n=this.room();if(!n)return;let o=n.players.filter(s=>s.isLeader);o.length&&o[0].nickname===this.nickname()&&this._apiRoomService.createRoom(n).pipe(ne(1),ue(r=>{this._room.set(r)})).subscribe()}}gameStartedEvent(t){this._room.update(e=>e?{name:e.name,gameStarted:t,players:e.players}:null),this._router.navigate(["/"])}updateGameStarted(t,e){return this._apiRoomService.updateGameStarted(t,e)}openErrorModal(t,e){let n={"join-room":"Hubo un error al intentar unirse a la sala","create-room":"Hubo un error al crear la sala"}[t];this._modalService.open({component:rn,args:{data:{title:n,message:e}}})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})};export{Aa as a,xa as b,ms as c,ss as d,jc as e,Lc as f,Uc as g,Ma as h,Ra as i,Wc as j,zc as k,qc as l,ym as m,vm as n,$l as o,Om as p,sr as q,Mm as r,St as s,Sm as t,Rm as u,Br as v,wc as w,Gr as x,E_ as y,bt as z,sn as A,Bi as B,jr as C};

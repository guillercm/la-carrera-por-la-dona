import{a as l}from"./chunk-HICEJBQR.js";import{C as s}from"./chunk-GNGC65JY.js";import{Gb as c,J as r,M as t,ba as i,mb as a,nb as n}from"./chunk-GYMYWFR2.js";var m=class o{_playerContext=t(l);_roomService=t(s);_router=t(c);isAuthenticated=a(()=>this._playerContext.nickname()!==null);_isLoggedOut=i(!1);constructor(){n(()=>{if(!this._isLoggedOut())return;this._roomService.room()||this.clear()})}logout(){let e=this._roomService.room();if(e){this._playerContext.emitLeaveRoom(e.name),this._isLoggedOut.set(!0);return}this.clear()}clear(){this._playerContext.setNickname(null),this._router.navigate([""])}login(e){this._playerContext.setNickname(e)}static \u0275fac=function(p){return new(p||o)};static \u0275prov=r({token:o,factory:o.\u0275fac,providedIn:"root"})};export{m as a};
